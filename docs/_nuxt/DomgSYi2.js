import{_ as K}from"./BbqLFjtS.js";import{_ as R,p as G,e as J,q as Q,r as I,j as X,l as S,c as r,a as s,s as h,b as B,w as O,f as e,t as o,v as j,x as v,F as L,m as Y,d as P,y as Z,o as d}from"./RxOUZaet.js";import{u as ss}from"./DWlq68gF.js";const ts={class:"car-detail-page"},es={class:"hero-section"},as={class:"hero-content"},os={key:0,class:"loading-container"},ns={key:1,class:"not-found"},cs={key:2,class:"detail-container"},ls={class:"gallery-section"},is={class:"main-image-container"},rs=["src","alt"],ds={class:"image-badges"},us={class:"year-badge"},_s={class:"status-text"},ps={key:2,class:"image-counter"},hs={key:0,class:"thumbnails-row"},vs=["onClick"],fs=["src","alt"],ms={class:"info-section"},gs={class:"glass-card title-card"},ks={class:"title-header"},bs={class:"car-title"},ys={class:"make"},ws={class:"model"},xs={class:"price-section"},Cs={class:"price-label"},Ds={class:"price-value"},$s={class:"quick-specs"},Ms={class:"quick-spec"},Is={class:"spec-info"},Ss={class:"spec-label"},Bs={class:"spec-value"},Os={class:"quick-spec"},js={class:"spec-info"},Ls={class:"spec-label"},Ps={class:"spec-value"},As={class:"glass-card specs-card"},Fs={class:"section-title"},qs={class:"specs-grid"},zs={class:"spec-row"},Ns={class:"spec-info"},Ts={class:"spec-key"},Vs={class:"spec-val"},Ws={class:"spec-row"},Us={class:"spec-info"},Es={class:"spec-key"},Hs={class:"spec-val"},Ks={class:"spec-row"},Rs={class:"spec-info"},Gs={class:"spec-key"},Js={class:"spec-val"},Qs={class:"spec-row"},Xs={class:"spec-info"},Ys={class:"spec-key"},Zs={class:"spec-val"},st={class:"glass-card contact-card"},tt={class:"section-title"},et={class:"contact-buttons"},at={class:"contact-info"},ot={class:"info-item"},nt={class:"info-item"},ct={class:"glass-card description-card"},lt={class:"section-title"},it={class:"description-text"},rt={class:"lightbox-content"},dt=["src","alt"],ut={class:"lightbox-nav"},_t={class:"image-counter"},pt={__name:"[id]",setup(ht){const y=G().params.id,A=J({useScope:"global"}),{t:c,locale:f}=A,w=Q(),u=I(0),g=I(!1),{data:a,pending:F,refresh:q}=ss(`http://127.0.0.1:8000/api/cars/${y}/`,{query:{lang:f},key:`car-${y}-${f.value}`,server:!1},"$f434WsqnKr");X(f,()=>{q()});const k=(t,n)=>{if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t)){for(const i of t){const p=k(i,n);if(p)return p}return""}if(typeof t=="object"){if(n&&Object.prototype.hasOwnProperty.call(t,n)&&typeof t[n]=="string")return t[n];for(const i of["name","label","title","text","content","html","value"])if(Object.prototype.hasOwnProperty.call(t,i)&&typeof t[i]=="string")return t[i];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const p=k(t[i],n);if(p)return p}return""}return String(t)},_=S(()=>a.value?.images&&a.value.images.length>1),x=S(()=>!a.value?.images||a.value.images.length===0?"/placeholder-car.jpg":b(a.value.images[u.value]?.image)),l=t=>k(t,f.value),b=t=>t?typeof t=="string"?t.startsWith("/media/")||t.startsWith("media/")?`http://127.0.0.1:8000${t.startsWith("/")?t:"/"+t}`:t:t.url?t.url:t.src?t.src:t.image?b(t.image):"/placeholder-car.jpg":"/placeholder-car.jpg",z=t=>t?new Intl.NumberFormat("en-US").format(t):"0",N=t=>t?`${new Intl.NumberFormat("en-US").format(t)} km`:"0 km",T=t=>{if(!t)return"#667eea";const n={սև:"#1a1a1a",սպիտակ:"#f5f5f5",կարմիր:"#e53e3e",կապույտ:"#3182ce",մոխրագույն:"#718096",արծաթագույն:"#cbd5e0",կանաչ:"#38a169",դեղին:"#ecc94b",black:"#1a1a1a",white:"#f5f5f5",red:"#e53e3e",blue:"#3182ce",gray:"#718096",silver:"#cbd5e0",green:"#38a169",yellow:"#ecc94b"},i=l(t);return n[i?.toLowerCase()]||"#667eea"},V=t=>{switch(t){case"armenia":return"status-armenia";case"transit":return"status-transit";case"auction":return"status-auction";default:return""}},C=t=>{switch(t){case"armenia":return c("carDetail.statusArmenia");case"transit":return c("carDetail.statusTransit");case"auction":return c("carDetail.statusAuction");default:return""}},D=()=>{_.value&&(u.value=(u.value+1)%a.value.images.length)},$=()=>{_.value&&(u.value=(u.value-1+a.value.images.length)%a.value.images.length)},W=()=>{_.value&&(g.value=!0)},M=()=>{g.value=!1},U=()=>{navigator.share?navigator.share({title:`${l(a.value.make)} ${l(a.value.model)}`,text:`Check out this car: ${l(a.value.make)} ${l(a.value.model)}`,url:window.location.href}).catch(t=>console.log("Error sharing:",t)):console.log("Share not supported")},E=()=>{console.log("Contact seller")},H=()=>{console.log("Make offer")};return(t,n)=>{const i=K;return d(),r(L,null,[s("div",ts,[s("div",es,[s("div",as,[B(i,{to:e(w)("/cars"),class:"back-button"},{default:O(()=>[n[0]||(n[0]=s("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[s("path",{d:"M19 12H5M12 19l-7-7 7-7","stroke-width":"2","stroke-linecap":"round"})],-1)),s("span",null,o(e(c)("carDetail.back")),1)]),_:1},8,["to"]),e(F)?(d(),r("div",os,[n[1]||(n[1]=s("div",{class:"loading-spinner"},null,-1)),s("p",null,o(e(c)("carDetail.loading")),1)])):e(a)?(d(),r("div",cs,[s("div",ls,[s("div",is,[s("img",{src:x.value,alt:`${l(e(a).make)} ${l(e(a).model)}`,class:"main-image",onClick:W},null,8,rs),s("div",ds,[s("div",us,o(e(a).year),1),e(a).status?(d(),r("div",{key:0,class:j(["status-badge",V(e(a).status)])},[s("span",_s,o(C(e(a).status)),1)],2)):h("",!0)]),_.value?(d(),r("button",{key:0,class:"nav-arrow prev",onClick:v($,["stop"])}," ‹ ")):h("",!0),_.value?(d(),r("button",{key:1,class:"nav-arrow next",onClick:v(D,["stop"])}," › ")):h("",!0),_.value?(d(),r("div",ps,o(u.value+1)+" / "+o(e(a).images.length),1)):h("",!0)]),_.value?(d(),r("div",hs,[(d(!0),r(L,null,Y(e(a).images,(p,m)=>(d(),r("div",{key:m,class:j(["thumbnail",{active:u.value===m}]),onClick:ft=>u.value=m},[s("img",{src:b(p.image),alt:`${l(e(a).make)} ${l(e(a).model)} - Image ${m+1}`,loading:"lazy"},null,8,fs)],10,vs))),128))])):h("",!0)]),s("div",ms,[s("div",gs,[s("div",ks,[s("h1",bs,[s("span",ys,o(l(e(a).make)),1),s("span",ws,o(l(e(a).model)),1)]),s("button",{class:"share-btn",onClick:U},[...n[3]||(n[3]=[s("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8M16 6l-4-4-4 4M12 2v13"})],-1)])])]),s("div",xs,[s("div",Cs,o(e(c)("carDetail.priceLabel")),1),s("div",Ds,o(z(e(a).price))+" $",1)]),s("div",$s,[s("div",Ms,[s("div",Is,[s("div",Ss,o(e(c)("carDetail.mileage")),1),s("div",Bs,o(N(e(a).mileage)),1)])]),s("div",Os,[s("div",js,[s("div",Ls,o(e(c)("carDetail.color")),1),s("div",Ps,[s("span",{class:"color-dot",style:Z({backgroundColor:T(e(a).color)})},null,4),P(" "+o(l(e(a).color)),1)])])])])]),s("div",As,[s("h3",Fs,o(e(c)("carDetail.specsTitle")),1),s("div",qs,[s("div",zs,[s("div",Ns,[s("span",Ts,o(e(c)("carDetail.fuel")),1),s("span",Vs,o(l(e(a).fuel)),1)])]),s("div",Ws,[s("div",Us,[s("span",Es,o(e(c)("carDetail.transmission")),1),s("span",Hs,o(l(e(a).transmission)),1)])]),s("div",Ks,[s("div",Rs,[s("span",Gs,o(e(c)("carDetail.year")),1),s("span",Js,o(e(a).year),1)])]),s("div",Qs,[s("div",Xs,[s("span",Ys,o(e(c)("carDetail.status")),1),s("span",Zs,o(C(e(a).status)),1)])])])]),s("div",st,[s("h3",tt,o(e(c)("carDetail.interested")),1),s("div",et,[s("button",{class:"primary-action-btn",onClick:E},[n[4]||(n[4]=s("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"})],-1)),s("span",null,o(e(c)("carDetail.contactSeller")),1)]),s("button",{class:"secondary-action-btn",onClick:H},[n[5]||(n[5]=s("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("circle",{cx:"12",cy:"12",r:"10"}),s("path",{d:"M12 6v6l4 2"})],-1)),s("span",null,o(e(c)("carDetail.makeOffer")),1)])]),s("div",at,[s("div",ot,[n[6]||(n[6]=s("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),s("polyline",{points:"22 4 12 14.01 9 11.01"})],-1)),s("span",null,o(e(c)("carDetail.safeDeal")),1)]),s("div",nt,[n[7]||(n[7]=s("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("circle",{cx:"12",cy:"12",r:"10"}),s("polyline",{points:"12 6 12 12 16 14"})],-1)),s("span",null,o(e(c)("carDetail.support")),1)])])]),s("div",ct,[s("h3",lt,o(e(c)("carDetail.description")),1),s("p",it,o(e(a).description),1)])])])):(d(),r("div",ns,[n[2]||(n[2]=s("div",{class:"not-found-icon"},"❌",-1)),s("h2",null,o(e(c)("carDetail.notFoundTitle")),1),s("p",null,o(e(c)("carDetail.notFoundDesc")),1),B(i,{to:e(w)("/cars"),class:"primary-btn"},{default:O(()=>[P(o(e(c)("carDetail.goCatalog")),1)]),_:1},8,["to"])]))])])]),g.value?(d(),r("div",{key:0,class:"lightbox",onClick:v(M,["self"])},[s("button",{class:"close-btn",onClick:M}," ✕ "),s("div",rt,[s("img",{src:x.value,alt:`${e(a).make} ${e(a).model}`,class:"lightbox-image"},null,8,dt),s("div",ut,[s("button",{class:"nav-btn prev",onClick:v($,["stop"])}," ‹ "),s("div",_t,o(u.value+1)+" / "+o(e(a).images.length),1),s("button",{class:"nav-btn next",onClick:v(D,["stop"])}," › ")])])])):h("",!0)],64)}}},bt=R(pt,[["__scopeId","data-v-971c9cf7"]]);export{bt as default};
