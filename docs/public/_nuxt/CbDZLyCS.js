import{_ as L,e as S,k as B,p as A,D as F,l as M,c as o,a as i,t as m,f as l,s as $,F as j,m as D,o as n,n as I}from"./CrDc-1X1.js";import{u as O,C as R}from"./C4X_hhjN.js";import"./B5Ce8ktC.js";import"./DRPA9Kg8.js";const V={class:"cars-page"},E={class:"page-title"},Q={class:"main-grid"},T={class:"cars-section"},z={key:0,class:"status"},G={key:1},H={class:"cars-grid"},J={key:0,class:"no-results"},K={__name:"index",async setup(U){let f,d;const{t:u,locale:h}=S(),{cars:_,loading:g,fetchCars:k}=O();[f,d]=B(()=>k()),await f,d();const x=A().query.q||"",r=F({q:x,minPrice:null,maxPrice:null,make:""}),a=e=>{if(e==null)return"";if(typeof e=="string")return e;if(Array.isArray(e)){for(const s of e){const t=a(s);if(t)return t}return""}if(typeof e=="object"){const s=h.value||"hy";if(e[s]&&typeof e[s]=="string")return e[s];for(const t of["name","label","title","text","content","value"])if(e[t]&&typeof e[t]=="string")return e[t];for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const c=a(e[t]);if(c)return c}return""}return String(e)},C=e=>{if(typeof e=="number")return e;if(typeof e=="string"){const s=parseFloat(e.replace(/[^0-9.]/g,""));return isNaN(s)?0:s}return 0},p=M(()=>_.value?_.value.filter(e=>{const s=a(e.make).toLowerCase(),t=a(e.model).toLowerCase(),c=e.year?String(e.year):"",y=C(e.price),w=`${s} ${t} ${c}`.toLowerCase(),P=!r.q||w.includes(String(r.q).toLowerCase()),N=!r.make||s===r.make.toLowerCase(),b=!r.minPrice||y>=Number(r.minPrice),q=!r.maxPrice||y<=Number(r.maxPrice);return P&&N&&b&&q}):[]);return(e,s)=>(n(),o("div",V,[i("h1",E,m(l(u)("cars.title")),1),i("div",Q,[i("section",T,[l(g)?(n(),o("div",z,m(l(u)("cars.loading")),1)):(n(),o("div",G,[i("div",H,[(n(!0),o(j,null,D(p.value,t=>(n(),I(R,{key:t.id,car:t},null,8,["car"]))),128))]),p.value.length===0?(n(),o("div",J,m(l(u)("cars.noResults")),1)):$("",!0)]))])])]))}},ee=L(K,[["__scopeId","data-v-14e4ffa4"]]);export{ee as default};
